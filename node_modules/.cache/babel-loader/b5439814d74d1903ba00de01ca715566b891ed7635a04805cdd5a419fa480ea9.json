{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"../styles/ColorSwatch.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ColorSwatch=_ref=>{let{swatch,isActive,onLValueChange,onClick}=_ref;const[inputValue,setInputValue]=useState(swatch.lValue.toString());// Update local state when prop changes\nuseEffect(()=>{setInputValue(swatch.lValue.toString());},[swatch.lValue]);const handleInputChange=e=>{const newValue=e.target.value;setInputValue(newValue);if(newValue===\"\"){onLValueChange(swatch.id,0);}else{const parsed=parseInt(newValue)||0;onLValueChange(swatch.id,parsed);}};const handleKeyDown=e=>{if(e.key===\"Enter\"||e.key===\"Escape\"){e.currentTarget.blur();// Restore the actual value when blurring\nsetInputValue(swatch.lValue.toString());}};const handleBlur=()=>{// Restore the actual value when blurring\nsetInputValue(swatch.lValue.toString());};return/*#__PURE__*/_jsx(\"div\",{className:\"lightness-controls\",\"data-ramp\":swatch.id,children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:`l${swatch.id}`,min:\"0\",max:\"100\",value:inputValue,onChange:handleInputChange,onKeyDown:handleKeyDown,onBlur:handleBlur})}),/*#__PURE__*/_jsxs(\"div\",{id:`colorSwatch${swatch.id}`,className:`color-swatch ${isActive?\"active\":\"\"}`,style:{backgroundColor:swatch.hexColor},onClick:()=>onClick(swatch.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"hex-label\",children:swatch.hexColor}),/*#__PURE__*/_jsxs(\"div\",{className:\"reference-dots\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reference-dot white-dot\",children:[swatch.whiteContrast.toFixed(1),\":1\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reference-dot black-dot\",children:[swatch.blackContrast.toFixed(1),\":1\"]})]})]})]})})});};export default ColorSwatch;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ColorSwatch","_ref","swatch","isActive","onLValueChange","onClick","inputValue","setInputValue","lValue","toString","handleInputChange","e","newValue","target","value","id","parsed","parseInt","handleKeyDown","key","currentTarget","blur","handleBlur","className","children","type","min","max","onChange","onKeyDown","onBlur","style","backgroundColor","hexColor","whiteContrast","toFixed","blackContrast"],"sources":["/Users/jamessullivan/Documents/color-grid/src/components/ColorSwatch.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { ColorSwatch as ColorSwatchType } from \"../types\";\nimport \"../styles/ColorSwatch.css\";\n\ninterface ColorSwatchProps {\n  swatch: ColorSwatchType;\n  isActive: boolean;\n  onLValueChange: (id: number, value: number) => void;\n  onClick: (id: number) => void;\n}\n\nconst ColorSwatch: React.FC<ColorSwatchProps> = ({\n  swatch,\n  isActive,\n  onLValueChange,\n  onClick,\n}) => {\n  const [inputValue, setInputValue] = useState(swatch.lValue.toString());\n\n  // Update local state when prop changes\n  useEffect(() => {\n    setInputValue(swatch.lValue.toString());\n  }, [swatch.lValue]);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = e.target.value;\n    setInputValue(newValue);\n\n    if (newValue === \"\") {\n      onLValueChange(swatch.id, 0);\n    } else {\n      const parsed = parseInt(newValue) || 0;\n      onLValueChange(swatch.id, parsed);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\" || e.key === \"Escape\") {\n      e.currentTarget.blur();\n      // Restore the actual value when blurring\n      setInputValue(swatch.lValue.toString());\n    }\n  };\n\n  const handleBlur = () => {\n    // Restore the actual value when blurring\n    setInputValue(swatch.lValue.toString());\n  };\n\n  return (\n    <div className=\"lightness-controls\" data-ramp={swatch.id}>\n      <div className=\"input-group\">\n        <div className=\"input-row\">\n          <div className=\"input-container\">\n            <input\n              type=\"number\"\n              id={`l${swatch.id}`}\n              min=\"0\"\n              max=\"100\"\n              value={inputValue}\n              onChange={handleInputChange}\n              onKeyDown={handleKeyDown}\n              onBlur={handleBlur}\n            />\n          </div>\n          <div\n            id={`colorSwatch${swatch.id}`}\n            className={`color-swatch ${isActive ? \"active\" : \"\"}`}\n            style={{ backgroundColor: swatch.hexColor }}\n            onClick={() => onClick(swatch.id)}\n          >\n            <div className=\"hex-label\">{swatch.hexColor}</div>\n            <div className=\"reference-dots\">\n              <div className=\"reference-dot white-dot\">\n                {swatch.whiteContrast.toFixed(1)}:1\n              </div>\n              <div className=\"reference-dot black-dot\">\n                {swatch.blackContrast.toFixed(1)}:1\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ColorSwatch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}